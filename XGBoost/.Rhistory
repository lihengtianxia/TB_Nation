install.packages('forecast')
install.packages('forecast')
devtools::install_github("ellisp/forecastxgb-r-package/pkg")
install.packages('devtools')
devtools::install_github("ellisp/forecastxgb-r-package/pkg")
install.packages(c("gdtools", "Rcpp", "RcppEigen", "rstan", "rstantools"))
install.packages("gdtools")
install.packages("gdtools")
install.packages("gdtools")
install.packages("gdtools")
library("gdtools", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
remove.packages("gdtools")
library(forecastxgb)
library(forecastxgb)
gas
?xgbar
model <- xgbar(gas)
dta <- c(1,3,5,7,9)
xgbar(dta)
library(readxl)
dta <- read_excel('/Users/Evan/DataScience/TB_Nation/Data/Seasonal_GRNN.xlsx')
names(dta)
ts(dta$Incidence_rate)
xgbar(ts(dta$Incidence_rate))
model  < - xgbar(ts(dta$Incidence_rate))
model <- xgbar(ts(dta$Incidence_rate))
summary(model)
forecast(model,h=12)
timeseries <- dta[108:]
timeseries <- dta[108:,]
dta
dta[:'2013-12-01','Incidence_rate']
dta[1:108,'Incidence_rate']
nrow(dta)
dta<- read_excel('/Users/Evan/DataScience/TB_Nation/Data/TB_nation.xlsx')
nrow(dta)
timeseries <- ts(dta[1:108,'Incidence_rate'])
model <- xgbar(timeseries)
summary(model)
fc <- forecast(model,h=12)
plot(fc)
fc
dta[108:,]
dta[108:,]
dta[108:,'Incidence_rate']
dta[108::,'Incidence_rate']
dta[108:length(dta),'Incidence_rate']
dta[108:120,"Incidence_rate"]
dta[108:120,"Incidence_rate"] - fc
dta[108:120,"Incidence_rate"]
dta <- dta[108:120,"Incidence_rate"]
type(dta)
class(dta)
dta
fc
cbind(dta,fc)
names(fc)
fc$fitted
fc
fc$x
fc$fitted
fc$x
fc
dta <- fc
dta
names(dta)
dta$newx
dta$newx[109:]
nrow(dta)
length(dta)
forecast(model, h = 12)
dta <- dta[109:120,"Incidence_rate"]
dta<- read_excel('/Users/Evan/DataScience/TB_Nation/Data/TB_nation.xlsx')
dta <- dta[109:120,"Incidence_rate"]
dta
library(forecastxgb)
install.packages('gdtools')
?install.packages
install.packages('gdtools',type='source')
install.packages('mclust',type='source')
library(forecastxgb)
library(readxl)
library(read)
library(readr)
tb <- read_excel('/Users/Evan/DataScience/TB_Nation/Data/TB_nation.xlsx')
View(tb)
dta['Date','Incidence_rate']
dta <- tb['Date','Incidence_rate']
View(dta)
dta <- tb[c('Date','Incidence_rate')]
ts(dta)
xgbar(ts(dta))
model <- xgbar(ts(dta))
summary(model)
plot(model,h=12)
ts?
?ts
ts(dta$Incidence_rate,start = c(2005,1),frequency = 1)
ts(dta$Incidence_rate,start = c(2005,1),frequency = 12)
gas <- ts(dta$Incidence_rate,start = c(2005,1),frequency = 12)
xgbar(gas)
summary(model)
forecast(model,h=12)
plot(forecast(model,h=12))
plot(forecast(model,m=12))
?forecast()
gas
gas <- ts(dta$Incidence_rate,start = c(2005,1),frequency = 12)
model <- xgbar(gas)
summary(model)
fc <- forecast(model, h = 12)
plot(fc)
fc
library(dpylr)
names(tb)
seq(1:100)
a = seq(100)
a[-10]
tb[1:108,'Incidence_rate']
ts(tb[1:108,'Incidence_rate'],start = c(2005,1),frequency = 12)
library(forecastxgb)
library(dplyr)
library(readxl)
tb <- read_excel('../Data/TB_Nation/Data/TB_nation.xlsx')
ts(tb[1:108,'Incidence_rate'],
dta<- ts(tb[1:108,'Incidence_rate'],start = c(2005,1),frequency = 12)
xgbar(dta)
dta<- ts(tb[1:108,'Incidence_rate'],start = c(2005,1),frequency = 12)
xgbar(dta)
library(forecastxgb)
library(dplyr)
library(readxl)
tb <- read_excel('../Data/TB_Nation/Data/TB_nation.xlsx')
ts(tb[1:108,'Incidence_rate'],
dta<- ts(tb[1:108,'Incidence_rate'],start = c(2005,1),frequency = 12)
model <- xgbar(dta)
summary(model)
summary(model)
fc <- forecast(model, h = 12)
plot(fc)
model <- xgbar(dta)
summary(model)
fc <- forecast(model, h = 12)
plot(fc)
fc
fc$fitted
fc$mean
fc_value <- fc$mean
mse?
?mse
??mse
fc_value
tb
tb[109:120,'Incidence_rate']
as.vector(tb[109:120,'Incidence_rate'])
as.vector(tb[109:120,'Incidence_rate'])
fc_value
as.vector(fc_value)
as.vector(tb[109:120,'Incidence_rate'])
fc_value
tb[109:120,'Incidence_rate']
as.vector(fc_value)
tb[109:120,'Incidence_rate'].T
tb[109:120,'Incidence_rate']
[1] 6.683119 5.872438 6.358613 6.212615 5.624122 5.435327 5.446475 5.442242
[9] 4.660502 5.262030 5.107632 4.411545
b['Incidence_rate'][109:120]
tb['Incidence_rate'][109:120]
tb['Incidence_rate']
tb['Incidence_rate'][109:120]
tb['Incidence_rate'][109]
tb['Incidence_rate']
tb['Incidence_rate'].T
tb[109:120,'Incidence_rate']
Incidence_rate <- tb[109:120,'Incidence_rate']
write.csv(Incidence_rate,'../Data/Incidence_rate.csv')
write.csv(Incidence_rate,'Incidence_rate.csv')
list.files()
library(forecastxgb)
library(dplyr)
library(readxl)
setwd('~/DataScience/TB_Nation/XGBoost/')
tb <- read_excel('../Data/TB_nation.xlsx')
dta<- ts(tb[1:108,'Incidence_rate'],start = c(2005,1),frequency = 12)
model <- xgbar(dta)
summary(model)
fc <- forecast(model, h = 12)
plot(fc)
y_true <- tb$Incidence_rate[109:120]
y_pred <-  as.numeric(fc$mean)
comp <- data.frame(y_pred,y_true)
comp$error <- comp$y_pred - comp$y_true
comp$error <- abs(comp$y_pred - comp$y_true)
comp$error <- abs(comp$y_pred - comp$y_true)/comp$y_true*100
mean(comp$error)
